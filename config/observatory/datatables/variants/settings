nameSingle: variant
namePlural: variants

description: A catalogue of the variants which were discovered, with properties including
  reference and alternate alleles, variant filter annotations, mutation effects, and
  quality metrics including total depth and mapping quality.

icon: fa-bookmark

# The primary key column ID for this table. This should correspond to a column in data containing a unique value for each record
# Optionally, this parameter can be set to 'AutoKey' to instruct the software to automatically generate a primary key
primKey: Position

hdfPath: variants

# The following set of tags is used to define the items in this data table as positions on the genome
isPositionOnGenome: true          # Tells Panoptes that this should be interpreted as genomic positions
chromosome: CHROM            # Speficies the table column ID that contains the chromosome
position: POS                # Specifies the table column ID that contains the position on the chromosome

propertyGroups:
- id: Properties
  name: Properties

#- id: Effect
#  name: Effect

#- id: AlleleFreqs
#  name: Allele frequencies

#- id: Quality
#  name: Quality

#- id: Selection
#  name: Selection

properties:
- id: Position
  dataType: Text
  name: Chromosome:Position
  description: Position of this variant on the genome
  valueColours:
    _other_: rgb(255,255,255)
- id: CHROM
  name: Chromosome
  description: Chromosome of this variant
  dataType: Text
- id: POS
  name: Position
  dataType: Int32
  valueColours:
    _other_: rgb(255,255,255)
- id: VariantType
  name: Type (SNP/Indel/Mix)
  dataType: Text
- id: is_snp
  dataType: Boolean
- id: num_alleles
  name: No. alleles
  dataType: Int32
- id: REF
  name: Reference allele
  dataType: Text

- id: AN
  dataType: Int32
- id: DP
  dataType: Int32
- id: FS
  dataType: Float
- id: MQ
  dataType: Float
- id: QD
  dataType: Float
- id: QUAL
  dataType: Float
- id: SOR
  dataType: Float
- id: VQSLOD
  dataType: Float

- id: RegionType
  dataType: Text
- id: CDS
  name: Coding
  description: Does this variant impact the protien produced by the gene?
  dataType: Boolean
- id: VARIANT_TYPE
  dataType: Text
- id: MULTIALLELIC
  dataType: Text



- id: FILTER_PASS
  dataType: Boolean
- id: FILTER_Centromere
  dataType: Boolean
- id: FILTER_InternalHypervariable
  dataType: Boolean
- id: FILTER_Low_VQSLOD
  dataType: Boolean
- id: FILTER_SubtelomericHypervariable
  dataType: Boolean
- id: FILTER_SubtelomericRepeat
  dataType: Boolean

- id: SNPEFF_AMINO_ACID_CHANGE
  name: Change
  dataType: Text
  description: The amino acid change (if any)
- id: SNPEFF_CODON_CHANGE
  dataType: Text
- id: SNPEFF_EFFECT
  name: Effect
  dataType: Text
- id: SNPEFF_EXON_ID
  dataType: Text
- id: SNPEFF_FUNCTIONAL_CLASS
  name: Change type
  dataType: Text
- id: SNPEFF_GENE_NAME
  name: Gene
  dataType: Text
- id: SNPEFF_IMPACT
  dataType: Text
- id: SNPEFF_TRANSCRIPT_ID
  dataType: Text

- id: AF_all
  dataType: Float
  name: Global
  description: The proportion of samples that have the non-reference form of this variant globally
- id: AF_SAM
  dataType: Float
  name: SAM
  description: The proportion of samples that have the non-reference form of this variant in South America
- id: AF_WAF
  dataType: Float
  name: WAF
  description: The proportion of samples that have the non-reference form of this variant in West Africa
- id: AF_CAF
  dataType: Float
  name: CAF
  description: The proportion of samples that have the non-reference form of this variant in Central Africa
- id: AF_EAF
  dataType: Float
  name: EAF
  description: The proportion of samples that have the non-reference form of this variant in East Africa
- id: AF_SAS
  dataType: Float
  name: SAS
  description: The proportion of samples that have the non-reference form of this variant in South Asia
- id: AF_WSEA
  dataType: Float
  name: WSEA
  description: The proportion of samples that have the non-reference form of this variant in West South-east Asia
- id: AF_ESEA
  dataType: Float
  name: ESEA
  description: The proportion of samples that have the non-reference form of this variant in East South-east Asia
- id: AF_OCE
  dataType: Float
  name: OCE
  description: The proportion of samples that have the non-reference form of this variant in Oceania

#- id: Gene
#  name: Gene Identifier
#  dataType: Text

- id: is_snp, AN, DP, FS, MQ, QD, QUAL, SOR, VQSLOD, RegionType, VARIANT_TYPE, MULTIALLELIC, FILTER_PASS, FILTER_Centromere, FILTER_InternalHypervariable, FILTER_Low_VQSLOD, FILTER_SubtelomericHypervariable, FILTER_SubtelomericRepeat, SNPEFF_AMINO_ACID_CHANGE, SNPEFF_CODON_CHANGE, SNPEFF_EFFECT, SNPEFF_EXON_ID, SNPEFF_FUNCTIONAL_CLASS, SNPEFF_GENE_NAME, SNPEFF_IMPACT, SNPEFF_TRANSCRIPT_ID
  showInTable: false

#dataItemViews:
#- type: PropertyGroup
#  groupId: Properties
#  name: Properties

#- type: PropertyGroup
#  groupId: Effect
#  name: Effect

#- type: PropertyGroup
#  groupId: AlleleFreqs
#  name: AlleleFreqs

#- type: PropertyGroup
#  groupId: Quality
#  name: Quality

#- type: PropertyGroup
#  groupId: Selection
#  name: Selection


#- type: PieChartMap                                    # Defines a view that shows a set of pie charts on a geographic map
#  name: Frequencies Map                                            # Name of the view
#  mapCenter: {longitude: 10, latitude: 0}             # Start location of the map
#  mapZoom: 3                                           # Start zoom factor of the map
#  dataType: Fraction                                   # Type of values used to create the pie chart
#  locationDataTable: populations                       # Datatable containing the locations (should have a Longitude & Latitude property)
#  locationSizeProperty: Num_Samples                    # Property of the locations datatable containing the size of the pie chart
#  locationNameProperty: ID                           # Property of the locations datatable containing the name of the pie chart
#  componentColumns:
#
#                                                       # Enumerates all the components of the pie charts, and binds them to columns (one for each component x location)
#  - pattern: AF1_{locid}                              # Column name providing the data ({locid} will be replaced by the location primary key values)
#    name: Non-reference allele frequency               # Name of the pie
#    color: rgb(128,28,0)                               # Color of the pie
#  residualFractionName: Reference allele frequency     # Name of the residual fraction (if any)
storedQueries: []
defaultQuery: '{"whcClass":"comparefixed","isCompound":false,"isRoot":true,"ColName":"FILTER_PASS","CompValue":true,"Components":[{"whcClass":"comparefixed","isCompound":false,"ColName":"FILTER_PASS","CompValue":true,"Tpe":"="}],"Tpe":"="}'
